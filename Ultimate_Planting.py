final_plot = [
[Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower],
[Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower],
[Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Carrot, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Tree, Entities.Bush, Entities.Tree, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Tree, Entities.Bush, Entities.Tree, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Bush, Entities.Tree, Entities.Bush],
[Entities.Bush, Entities.Tree, Entities.Bush,Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Pumpkin, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Cactus, Entities.Grass, Entities.Tree, Entities.Grass, Entities.Tree, Entities.Tree, Entities.Bush, Entities.Tree],
[Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower],
[Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower],
[Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower, Entities.Sunflower],
]


TILL_PLANTS = [Entities.Carrot, Entities.Pumpkin, Entities.Sunflower, Entities.Cactus]

def check_and_harvest():
	pos_x = get_pos_x()
	pos_y = get_pos_y()
	
	curr_plant = final_plot[pos_y][pos_x]
	should_plant_sunflower_top = (pos_y == (get_world_size() - 1) and pos_x % 2 == 0)
	should_plant_sunflower_bottom = pos_y == 0 and pos_x % 2 != 0
	if should_plant_sunflower_top or should_plant_sunflower_bottom:
			curr_plant = Entities.Sunflower
	# curr_plant = Entities.Cactus
	if can_harvest():
		harvest()
		if curr_plant in TILL_PLANTS and get_ground_type() != Grounds.Soil:
			till()
		
		plant(curr_plant)
		
	if get_entity_type() == Entities.Dead_Pumpkin:
		plant(Entities.Pumpkin)
	if get_entity_type() == None:
		plant(curr_plant)
		
def just_harvest():
	if can_harvest():
		harvest()
		
def move_untill_end(direction, fn):
	for i in range(get_world_size()):
		fn()
		
		if i == (get_world_size() - 1):
			move(East)
		else:
			move(direction)

def traverse_plot_with_fn(fn):
	for i in range(get_world_size()):	
		if i % 2 == 0:
			move_untill_end(North, fn)
		else:
			move_untill_end(South, fn)	

if __name__ == "__main__":
	traverse_plot_with_fn(harvest)